<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simulator Aljabar Boolean & Karnaugh Map</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header-wrapper">
  <div>
    <h1>Simulator Aljabar Boolean & Karnaugh Map</h1>
    <div class="sub">Interaktif — Evaluasi, Tabel Kebenaran, K-Map (1–4 var), Penyederhanaan SOP</div>
  </div>
  <button id="themeToggle" class="btn secondary">
    🌓 Ganti Tema
  </button>
</header>


  <main class="container">
    <!-- LEFT -->
    <section class="card">
      <div class="top-row">
        <div style="flex:1">
          <label for="expr">Ekspresi Boolean</label>
          <input id="expr" type="text" placeholder="Contoh: A'B + AC  atau  ~(A+B)*C  atau  A ^ B'">

          <!-- Hasil pindah ke bawah input -->
          <div class="col" style="margin-top:10px">
            <span id="vars-pill" class="pill">Variabel: —</span>
            <span id="minterms-pill" class="pill">Minterm: —</span>
            <span id="simp-pill" class="pill">Sederhana: —</span>
          </div>
        </div>

        <!-- Tombol kanan -->
        <div style="display:flex; flex-direction:column; align-items:flex-start; gap:10px;">
          <button id="btn-eval" class="btn" style="min-width:120px; padding:6px 16px;" 
                  title="Hitung tabel kebenaran dan K-Map dari ekspresi Boolean.">Evaluasi</button>
          <button id="btn-clear" class="btn secondary" style="min-width:120px; padding:6px 16px;" 
                  title="Hapus ekspresi Boolean dan kosongkan tabel serta K-Map.">Bersihkan</button>
        </div>
      </div>

      <div class="sep"></div>

      <h3 style="margin:6px 0 10px">Tabel Kebenaran</h3>
      <div class="tt" id="ttarea">
        <div class="muted caption">Siap — masukkan ekspresi dan klik Evaluasi.</div>
      </div>

      <div class="sep"></div>

      <!-- Catatan & Contoh -->
      <div class="footer-panels">
        <div class="card" style="padding:12px; flex:1">
          <div class="mini muted">Catatan & Validasi</div>
          <div id="validation" class="muted" style="margin-top:8px">
            Siap — masukkan ekspresi dan klik Evaluasi.
          </div>
        </div>

        <div class="card" style="padding:12px; flex:1">
          <div class="mini muted">Contoh Skenario Uji</div>
          <select id="scenario-select" class="dropdown-dark" aria-label="Pilih contoh ekspresi Boolean">
            <option value="">— Pilih Contoh —</option>
            <option value="A'B + AC">F1 = A'B + AC</option>
            <option value="A(B + C)">F2 = A(B + C)</option>
            <option value="(A ^ B)C + A'B'">F3 = (A ^ B)C + A'B'</option>
            <option value="(A + B)(C + D)">F4 = (A + B)(C + D)</option>
            <option value="A'B' + AB">F5 = A'B' + AB (XNOR)</option>
            <option value="A ^ B ^ C">F6 = A ^ B ^ C</option>
            <option value="(A + B' C')(A' + C)">F7 = (A + B' C')(A' + C)</option>
            <option value="(A B)' + C">F8 = (A B)' + C</option>
            <option value="A B + A C + B C">F9 = A B + A C + B C</option>
            <option value="(A + B + C)(A' + B)(B + C')">F10 = (A + B + C)(A' + B)(B + C')</option>
          </select>
        </div>
      </div>

      <!-- Benchmark -->
      <div class="footer-panels" style="margin-top:10px; display:flex; gap:10px; align-items:flex-start;">
        <!-- KIRI: Informasi & Tombol Benchmark -->
        <div class="card" style="padding:12px; flex:1; height:auto;">
          <div class="mini muted" style="font-weight:600;">Benchmark Quine–McCluskey (QM)</div>
          <p class="muted" style="font-size:13px; margin:8px 0 12px;">
            Uji waktu eksekusi algoritma QM dengan set minterm acak (3–6 variabel).
          </p>
          <button id="btn-benchmark" class="btn warning"
                  style="min-width:130px; padding:6px 16px;"
                  title="Uji kecepatan algoritma Quine–McCluskey.">
            Jalankan Benchmark
          </button>
          <button id="btn-benchmark-reset" class="btn secondary"
                  style="min-width:130px; padding:6px 16px; margin-top:8px;"
                  title="Reset hasil benchmark.">
            Bersihkan Hasil
          </button>
        </div>

        <!-- KANAN: Hasil Benchmark -->
        <div class="card" style="padding:12px; flex:1;">
          <div class="mini muted" style="font-weight:600;">Hasil Benchmark</div>
          <pre id="bench-result"
               style="font-family:monospace; background:var(--panel); padding:8px 10px;
                      border-radius:8px; white-space:pre-wrap; word-wrap:break-word;
                      overflow:hidden; font-size:13px; color:var(--muted);
                      margin-top:10px; line-height:1.5; min-height:60px;">
📊 Belum dijalankan.
          </pre>
        </div>
      </div>
    </section>

    <!-- RIGHT -->
    <aside class="card right">
      <h3 style="margin:0 0 8px">K-Map (1–4 variabel)</h3>
      <div class="mini muted">Mode sel: klik sel untuk toggle 0 → 1 → d (don't-care) → 0</div>

      <div class="sep"></div>

      <div style="display:flex;gap:8px;align-items:center">
        <button id="btn-sop" class="btn-toggle active" title="Tampilkan ekspresi Sum of Products (SOP)">SOP</button>
        <button id="btn-pos" class="btn-toggle" title="Tampilkan ekspresi Product of Sums (POS)">POS</button>
        <button id="btn-reset" class="btn secondary" title="Hapus semua isi K-Map tanpa mengubah ekspresi Boolean.">Reset</button>
      </div>

      <div style="margin-top:10px">
        <label for="minterm-io" style="font-size:13px;color:var(--muted);display:block;margin-bottom:4px;">
          Impor / Ekspor Minterm (pisah koma). Contoh: 0,1,2,5 atau d2,4,7
        </label>
        <input id="minterm-io" type="text" placeholder="contoh: 0,1,2,5 atau d2,4,7">
      </div>

      <div class="controls" style="margin-top:8px">
        <button id="btn-import" class="btn secondary" title="Masukkan daftar minterm (dan d untuk don't-care) ke dalam K-Map.">Impor → K-Map</button>
        <button id="btn-export" class="btn secondary" title="Ambil daftar minterm dari K-Map dalam format teks.">Ekspor dari K-Map</button>
        <button class="btn secondary" id="exportImgBtn" title="Simpan tampilan K-Map sebagai gambar PNG.">Ekspor Gambar (PNG)</button>
        <button id="exportPrintBtn" title="File/ Gambar KMAP Siap di print." class="btn secondary">🖨️ Ekspor Siap Cetak</button>

      </div>

      <div class="sep"></div>

      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
        <div>
          <div class="mini muted">Ekspresi Tersederhana (SOP)</div>
          <div id="out-simplified" class="code" style="margin-top:8px">—</div>
        </div>
        <div style="text-align:right">
          <div class="mini muted">Variabel (K-Map):</div>
          <div id="kvars" class="pill" style="margin-top:8px">—</div>
        </div>
      </div>

      <div class="kmap-container">
        <div id="kmapWrap" style="min-height:140px;min-width:140px;color:#ccc">K-Map akan muncul di sini.</div>
      </div>

      <div class="sep"></div>

      <div class="right-help">
        <strong>Petunjuk singkat:</strong>
        <ul style="margin:6px 0 0 18px">
          <li>Masukkan ekspresi, klik <b>Evaluasi</b> untuk tabel & K-Map.</li>
          <li>Jika variabel >4, K-Map dinonaktifkan tetapi tabel tetap tampil.</li>
          <li>Impor minterm akan mengisi K-Map; ekspor menghasilkan string minterm.</li>
        </ul>
      </div>
    </aside>
  </main>

  <script src="libs/html2canvas.min.js"></script>
  <script src="script.js"></script>
</body>
</html>